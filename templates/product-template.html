<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">

	<title>{{page_title}}</title>
	<meta name="description" content="{{seo_description}}">

	<!-- fraimwork - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">

	<!-- icon - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/flaticon.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/fontawesome.css">

	<!-- animation - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/animate.css">

	<!-- carousel - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/owl.carousel.min.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/owl.theme.default.min.css">

	<!-- nice select - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/nice-select.css">

	<!-- magnific popup - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/magnific-popup.css">

	<!-- custom - css include -->
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/product-pages.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/product-custom.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/product-image-styles.css">

	<!-- Favicon -->
	<link rel="icon" type="image/x-icon" href="/assets/images/favicon/favicon.ico">
</head>

<body>
	<!-- backtotop - start -->
	<div id="thetop"></div>
	<div id="backtotop">
		<a href="#" id="scroll">
			<i class="far fa-arrow-up"></i>
		</a>
	</div>
	<!-- backtotop - end -->

	{{> header}}

	<!-- main body - start
	================================================== -->
	<main>
		<!-- sidebar mobile menu - start
		================================================== -->
		<div class="sidebar-menu-wrapper">
			<div class="sidebar_mobile_menu">
				<span class="close_btn"><i class="fal fa-times"></i></span>
				<div class="mobile_menu_list clearfix">
					<ul class="ul_li_block clearfix">
						{{> mobile-menu}}
					</ul>
				</div>
			</div>
			{{> cart-sidebar}}
			<div class="overlay"></div>
		</div>
		<!-- sidebar mobile menu - end
		================================================== -->

		<!-- Breadcrumb -->
		<section class="breadcrumb_section d-flex align-items-center clearfix" style="background-image: url({{hero_image_url}});">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<h1 class="page_title mb-0">{{product_name}}</h1>
						<div class="row">
							<div class="col-lg-9 col-md-10 col-sm-12">
								<p class="mb-0 subtitle-text text-white" style="font-size: 1.35rem; line-height: 1.6; margin-top: 0.75rem;">
									{{seo_description}}
								</p>
							</div>
						</div>
						<div class="mt-4">
							<ul class="breadcrumb_nav ul_li_right clearfix">
								{{#each breadcrumbs}}
								<li>
									{{#if link}}<a href="{{link}}">{{name}}</a>{{else}}{{name}}{{/if}}
								</li>
								{{/each}}
							</ul>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Product Details -->
		<section class="details_section shop_details sec_ptb_130 pt-0 bg_gray clearfix">
			<div class="shop_container">
				<div class="container">
					
					<div class="row justify-content-lg-between justify-content-md-center justify-content-sm-center">
						<!-- Main Product Image -->
						<div class="col-lg-7 col-md-7 col-sm-10 col-xs-12 wow fadeInUp2" data-wow-delay=".1s">
							<div class="details_image clearfix">
								<div class="tab-content" id="productTabContent">
									{{#each product_details.options.0.variants}}
									<div id="variant-{{@index}}" class="tab-pane {{#if @first}}active{{else}}fade{{/if}}">
										<img src="{{#if image_url}}{{image_url}}{{else}}/assets/images/placeholder.jpg{{/if}}" alt="{{alt_tag}}">
									</div>
									{{/each}}
								</div>
							</div>

							<!-- Thumbnail Nav -->
							<div class="mt-3">
								<ul class="nav ul_li product_image_nav" id="productTab" role="tablist">
									{{#each product_details.options.0.variants}}
									<li>
										<a class="{{#if @first}}active{{/if}}" data-bs-toggle="tab" href="#variant-{{@index}}">
											<img src="{{#if image_url}}{{image_url}}{{else}}/assets/images/placeholder.jpg{{/if}}" alt="{{alt_tag}}">
											<span class="thumbnail-label">{{label}}</span>
										</a>
									</li>
									{{/each}}
								</ul>
							</div>
						</div>

						<!-- Product Details -->
						<div class="col-lg-5 col-md-9 col-sm-10 col-xs-12 wow fadeInUp2" data-wow-delay=".1s">
							<div class="details_content product-container" 
								 data-product-id="{{id}}"
								 data-product-name="{{product_name}}"
								 data-product-price="{{product_details.price}}" 
								 data-product-image="{{#if product_details.options.0.variants.0.image_url}}{{product_details.options.0.variants.0.image_url}}{{else}}/assets/images/placeholder.jpg{{/if}}">
								<h2 class="item_title mb_15">{{product_details.title}}</h2>
								<ul class="rating_star ul_li mb_30 clearfix">
									<li><i class="fas fa-star"></i></li>
									<li><i class="fas fa-star"></i></li>
									<li><i class="fas fa-star"></i></li>
									<li><i class="fas fa-star"></i></li>
									<li><i class="fas fa-star"></i></li>
								</ul>
								<span class="price_text mb_30"><strong>${{product_details.price}}</strong></span>
								<p class="mb_15">
									{{product_details.description_short}}
								</p>
								<p class="mb_30">
									{{product_details.description_long}}
								</p>

								<!-- Product Options -->
								{{#each product_details.options}}
								<div class="product-options mb-4">
									<label class="form-label d-block"><strong>{{name}}</strong></label>
									<div class="variant-options d-grid gap-2">
										{{#each variants}}
										<div class="variant-option card p-2 {{#if default}}border-primary{{/if}}" data-variant="{{name}}" data-price-change="{{price_change}}" data-image-target="#variant-{{@index}}">
											<div class="d-flex justify-content-between">
												<span>{{name}}</span>
											</div>
										</div>
										{{/each}}
									</div>
									<input type="hidden" id="selectedVariant" value="{{variants.[0].name}}">
								</div>
								{{/each}}

								<!-- Quantity Options -->
								<div class="product-options mb-4">
									<label class="form-label d-block"><strong>Select Quantity</strong></label>
									<div class="quantity-options d-grid gap-2" style="grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));">
										{{#each product_details.quantity_options}}
										<div class="quantity-option card p-2 text-center {{#if @first}}border-primary{{/if}}" data-quantity="{{this}}">{{this}}</div>
										{{/each}}
									</div>
									<input type="hidden" id="selectedQuantity" value="{{product_details.quantity_options.[0]}}">
								</div>

								<!-- Add to Cart -->
								<div class="d-grid">
									<button class="addtocart_btn custom_btn bg_default_orange btn-lg">Add To Cart</button>
								</div>

								<!-- Social Share -->
								<div class="share_links d-flex align-items-center clearfix mt-4">
									<span class="social_title">Share Now</span>
									<ul class="primary_social_links ul_li clearfix">
										<li><a href="#!"><i class="fab fa-facebook-f"></i></a></li>
										<li><a href="#!"><i class="fab fa-twitter"></i></a></li>
										<li><a href="#!"><i class="fab fa-linkedin"></i></a></li>
										<li><a href="#!"><i class="fab fa-pinterest"></i></a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>

					<hr>

					<!-- Product Description Tabs -->
					{{#if product_content}}
						{{{product_content}}}
					{{else}}
						{{> product-description-tabs}}
					{{/if}}
					<hr>
					<div class="related-products-container">
						{{> related-products}}
					</div>
				</div>
			</div>
		</section>
	</main>

	{{> footer}}

	<!-- fraimwork - jquery include -->
	<script src="/assets/js/jquery-3.5.1.min.js"></script>
	<script src="/assets/js/bootstrap.bundle.min.js"></script>
	
	<!-- animation - js include -->
	<script src="/assets/js/wow.min.js"></script>

	<!-- carousel - jquery include -->
	<script src="/assets/js/owl.carousel.min.js"></script>

	<!-- magnific popup - js include -->
	<script src="/assets/js/magnific-popup.min.js"></script>

	<!-- isotope - js include -->
	<script src="/assets/js/isotope.pkgd.js"></script>

	<!-- custom - js include -->
	<script src="/assets/js/app-initializer.js"></script>

	<!-- Cart and App Initializer -->
	<script src="/assets/js/cart.js"></script>
	<script src="/assets/js/cart-display.js"></script>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const variantOptions = document.querySelectorAll('.variant-option');
			const tabs = new bootstrap.Tab(document.querySelector('#productTab a'));

			variantOptions.forEach(option => {
				option.addEventListener('click', function() {
					const target = this.dataset.imageTarget;
					if (target) {
						const tabToShow = document.querySelector(`[data-bs-toggle="tab"][href="${target}"]`);
						if (tabToShow) {
							const tab = new bootstrap.Tab(tabToShow);
							tab.show();
						}
					}
				});
			});
		});
	</script>
	
</html> 