<!DOCTYPE html>
<html lang="en">
	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="x-ua-compatible" content="ie=edge">

		<title>Shopping Cart - Real Estate Marketing</title>
		<link rel="shortcut icon" href="/assets/images/logo/favourite_icon_01.png">

		<!-- fraimwork - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">

		<!-- icon - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/flaticon.css">
		<link rel="stylesheet" type="text/css" href="/assets/css/fontawesome.css">

		<!-- animation - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/animate.css">

		<!-- carousel - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/owl.carousel.min.css">
		<link rel="stylesheet" type="text/css" href="/assets/css/owl.theme.default.min.css"> 

		<!-- nice select - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/nice-select.css">

		<!-- magnific popup - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/magnific-popup.css">

		<!-- custom - css include -->
		<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
		<link rel="stylesheet" type="text/css" href="/assets/css/bez.css">

		<style>
			.variant-option, .quantity-option {
				cursor: pointer;
			}
		</style>

	</head>


	<body>


		<!-- backtotop - start -->
		<div id="thetop"></div>
		<div id="backtotop">
			<a href="#" id="scroll">
				<i class="far fa-arrow-up"></i>
			</a>
		</div>
		<!-- backtotop - end -->

		

		<!-- header_section - start
		================================================== -->
		<div w3-include-html="/includes_new/header.html"></div>
		<!-- header_section - end
		================================================== -->


		<!-- main body - start
		================================================== -->
		<main>


			<!-- sidebar mobile menu - start
			================================================== -->

			<div class="sidebar-menu-wrapper">
				<div class="sidebar_mobile_menu">

					<span class="close_btn"><i class="fal fa-times"></i></span>

					<div class="mobile_menu_list clearfix">
						<ul class="ul_li_block clearfix">
							<div w3-include-html="/includes_new/mobile-menu.html"></div>
							
						</ul>
					</div>

				</div>

				<div w3-include-html="/includes_new/cart-sidebar.html"></div>

				<div class="overlay"></div>
			</div>
			<!-- sidebar mobile menu - end
			================================================== -->


			<!-- breadcrumb_section - start
			================================================== -->
			<section class="breadcrumb_section d-flex align-items-center clearfix" data-background="/assets/images/breadcrumb/bg_01.jpg">
				<div class="container">
					<div class="row align-items-center justify-content-lg-between">
						<div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 wow fadeInLeft" data-wow-delay=".1s">
							<h1 class="page_title mb-0">Shopping Cart</h1>
						</div>

						<div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 wow fadeInRight" data-wow-delay=".1s">
							<ul class="breadcrumb_nav ul_li_right clearfix">
								<li><a href="index.html">Home</a></li>
								<li>Shopping Cart</li>
							</ul>
						</div>
					</div>
				</div>
			</section>
			<!-- breadcrumb_section - end
			================================================== -->

			<!-- cart_section - start
			================================================== -->
			<section class="cart_section sec_ptb_130 bg_gray clearfix">
				<div class="container">
					<div class="row">
						<!-- Cart Items -->
						<div class="col-lg-8 col-md-12 mb-4">
							<div class="bg-white p-4 rounded">
								<h3 class="mb-4">Your Items</h3>
								<div id="cart-container">
									<!-- Cart items will be dynamically inserted here -->
								</div>
							</div>
						</div>

						<!-- Cart Summary -->
						<div class="col-lg-4 col-md-12">
							<div class="bg-white p-4 rounded">
								<h4 class="mb-4">Order Summary</h4>
								<ul class="total_price ul_li_block clearfix">
									<li><span>Subtotal:</span> <small class="cart-subtotal">$0.00</small></li>
									<li><span>Vat:</span> <small class="cart-vat">$0.00</small></li>
									<li><span>Total</span> <small class="cart-total">$0.00</small></li>
								</ul>
								<hr>
								<button class="custom_btn bg_default_orange w-100" onclick="alert('Checkout not implemented')">Proceed to Checkout</button>
								<button class="btn btn-sm btn-outline-danger w-100 mt-2" id="clear-cart-btn">Clear Cart</button>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- cart_section - end
			================================================== -->

		</main>

		<!-- Footer Include -->

		<footer class="footer_section bg_gray clearfix">
			<div w3-include-html="/includes_new/footer.html"></div> 
		</footer>
	
		<!-- Toast Notification -->
		<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
			<div id="cartToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-header">
					<strong class="me-auto">Cart Updated</strong>
					<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
				</div>
				<div class="toast-body toast-message">
					Item added to cart!
				</div>
			</div>
		</div>

		<!-- JavaScript -->
		<script src="/assets/js/jquery-3.5.1.min.js"></script>
		<script src="/assets/js/bootstrap.bundle.min.js"></script>
		<script src="/assets/js/mCustomScrollbar.js"></script>
		<script src="/assets/js/jquery-ui.js"></script>
		<script src="/assets/js/magnific-popup.min.js"></script>
		<script src="/assets/js/owl.carousel.min.js"></script>
		<script src="/assets/js/nice-select.min.js"></script>
		<script src="/assets/js/circle-progress.min.js"></script>
		<script src="/assets/js/isotope.pkgd.js"></script>
		<script src="/assets/js/masonry.pkgd.min.js"></script>
		<script src="/assets/js/imagesloaded.pkgd.min.js"></script>
		<script src="/assets/js/wow.min.js"></script>
		<script src="/assets/js/countto.js"></script>
		<script src="/assets/js/cart.js"></script>
		<script src="/assets/js/cart-display.js"></script>


		<!-- HTML Include and Initialization Script -->
		<script>
			function initializeApp() {
				// Mobile menu event handlers (vanilla JS)
				const mobileMenu = document.querySelector('.sidebar_mobile_menu');
				const mobileMenuBtn = document.querySelector('.mobile_menu_btn');
				const closeBtn = document.querySelector('.sidebar_mobile_menu .close_btn');
				const overlay = document.querySelector('.sidebar-menu-wrapper .overlay');

				if (mobileMenu && mobileMenuBtn && closeBtn && overlay) {
					const openMenu = () => {
						mobileMenu.classList.add('active');
						overlay.classList.add('active');
					};
					const closeMenu = () => {
						mobileMenu.classList.remove('active');
						overlay.classList.remove('active');
					};
					mobileMenuBtn.addEventListener('click', openMenu);
					closeBtn.addEventListener('click', closeMenu);
					overlay.addEventListener('click', closeMenu);
				}

				// Cart sidebar event handlers (vanilla JS)
				const cartSidebar = document.querySelector('.cart_sidebar');
				const cartCloseBtn = document.querySelector('.cart_sidebar .close_btn');
				const cartOverlay = document.querySelector('.sidebar-menu-wrapper .overlay');

				if (cartSidebar && cartCloseBtn && cartOverlay) {
					const closeCart = () => {
						cartSidebar.classList.remove('active');
						cartOverlay.classList.remove('active');
					};

					cartCloseBtn.addEventListener('click', closeCart);
					cartOverlay.addEventListener('click', () => {
						if (!document.querySelector('.sidebar_mobile_menu.active')) {
							closeCart();
						}
					});
				}

				// Background images (vanilla JS)
				const backgroundElements = document.querySelectorAll('[data-background]');
				backgroundElements.forEach(el => {
					el.style.backgroundImage = `url(${el.getAttribute('data-background')})`;
				});
			}

			function initializeCartPage() {
				// Render the full cart page display
				if (window.CartDisplay) {
					CartDisplay.render('#cart-container', CartDisplay.pageTemplate);
				}

				// Add event listener for the new clear cart button
				const clearCartBtn = document.getElementById('clear-cart-btn');
				if (clearCartBtn) {
					clearCartBtn.addEventListener('click', () => {
						if (confirm('Are you sure you want to clear your cart?')) {
							Cart.clearCart();
							// Re-render the cart display to show it's empty
							CartDisplay.render('#cart-container', CartDisplay.pageTemplate);
						}
					});
				}

				// Initial Cart Counter Update
				if (window.Cart) {
					Cart.updateCartCounter();
				}
			}

			function includeHTML(callback) {
				const elements = document.querySelectorAll('[w3-include-html]');
				const promises = [];
				
				elements.forEach(el => {
					const file = el.getAttribute('w3-include-html');
					const promise = fetch(file)
						.then(response => {
							if (!response.ok) throw new Error(`Page not found: ${file}`);
							return response.text();
						})
						.then(html => {
							const fragment = document.createRange().createContextualFragment(html);
							el.parentNode.replaceChild(fragment, el);
						})
						.catch(error => {
							console.error(error);
							el.remove();
						});
					promises.push(promise);
				});

				Promise.all(promises).then(() => {
					if (callback) {
						callback();
					}
				});
			}

			document.addEventListener('DOMContentLoaded', () => {
				includeHTML(() => {
					initializeApp();
					initializeCartPage();
				});
			});
		</script>
	</body>
</html>  
